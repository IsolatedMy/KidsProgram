# 前后端说明

## 后端说明

### 服务器运行

当前Falsk程序运行在localhost:8000下，前端发送消息请向这一端口发送信息。

#### 端口

|端口url|发送数据要求|功能|
|----|----|----|
|\user\login\ | 包含键值对'username'和'password' | 根据输入的username和password在数据库中查找是否有对应元组，并根据查找结果返回一段字符串

### 数据库说明
当前决定的数据库包括如下若干
模块（目前暂不实现创意工坊模块）：

**1.身份信息表**

在登录模块和个人中心模块主要查询的表，id为主键，只有登录以后才能修改。

| 属性名 | 含义 | 数据类型 | 数据约束 |
|----|----|----|----|
|user_id|主键id|int|非空，主键，唯一|
|username|用户名|varchar(20)|唯一，非空|
|password|密码|varchar(20)|唯一，非空|
|role|权限（角色）|Enum('U','A')|默认为'U'，代表用户(user)权限；'A'代表管理员(Administrator)权限|
|create_time|创建时间|DATETIME|非空|
|login_state|登录状态|Enum('N', 'Y')|非空|
|email|电子邮箱|varchar(45)| |
|phone|电话号码|int| |

需要设置表约束或者触发器，使得email和电话号码不同时为空。

**2.进度表**

| 属性名 | 含义 | 数据类型 | 数据约束 |
|----|----|----|----|
|user_id|用户id|int|主键，非空，外键，唯一|
|unlock_progress|解锁进度|int|非空|
|finish_progress|完成进度|int|非空|

**3.关卡评分表**
|属性名|含义|数据类型|数据约束|
|----|----|----|----|
|user_id|用户id|int|主键，非空，外键，唯一|
|level|关卡|int||
|score|评分|Enum('0','2','3')| |

